## 本轮兜底审计说明

- 目标：统一梳理当前仓库内的兜底逻辑（Fallback/Degradation/默认值），评估是否符合《兜底逻辑设计原则》，并在本文件形成“单一真相来源”。
- 范围：尽量覆盖错误码/文案、AI 文本与图片链路、Credits/Plan/Billing、RateLimit/Env、Storage、前端错误 UI 与日志等高风险区域。
- 分级模型：
  - 类型：
    - 业务兜底：产品级决策（例如“无订阅 → free plan”），不轻易改动。
    - 技术兜底：外部依赖/配置/性能层的降级策略，允许随基础设施演进调整。
    - 用户体验兜底：文案、UI 默认展示等，不影响领域数据。
  - 级别：
    - P0：可能破坏账务/权限/安全/数据一致性或“假成功”；应优先整改。
    - P1：不破坏数据，但会导致用户权益丢失或观测性缺失；应在中短期修复。
    - P2：行为合理，但日志/metrics/文档有优化空间。
    - P3：符合兜底原则的正面样例，可作为参考实现。

后续条目均按「模块/文件 + 类型 + 级别 + 行为 + 评估 + 建议」记录。

---

## 一、错误码 & 文案兜底层

### 1. src/lib/domain-error-utils.ts

- 类型：用户体验兜底  
- 级别：P3  
- 行为：
  - 通过 `DOMAIN_ERROR_MESSAGES` 将 `ErrorCodes` 映射到 i18n key 与可选 fallback 文案；
  - `getDomainErrorMessage` 逻辑：
    - `code` 为空 → 直接返回调用方提供的 `fallbackMessage`；
    - 有 `code` 且存在定义：
      - 有 translator → 优先使用 `t(key)`；
      - 无 translator → 使用定义中的 `fallback`，否则回退到 `fallbackMessage`；
    - 未找到定义 → 回退到 `fallbackMessage`。
  - `unwrapEnvelopeOrThrowDomainError` 在后端 envelope 不明确提供 error message 时，会使用 `getDomainErrorMessage(code, undefined, defaultErrorMessage)` 作为兜底。
- 评估：
  - 兜底完全限制在“错误文案选择”层，不改变领域状态或控制流；
  - 对“未注册错误码”与“缺 translator”的情况均有显式兜底路径；
  - 行为简单、边界清晰，符合 KISS / YAGNI 与“用户体验兜底可以更激进”的原则。
- 建议：
  - 文档/约定层面可强调：新增 `ErrorCodes.*` 时应同步注册到 `DOMAIN_ERROR_MESSAGES`，否则前端将回退到 generic fallback（但不会破坏业务语义）。

### 2. src/lib/domain-error-ui-registry.ts

- 类型：用户体验兜底  
- 级别：P3  
- 行为：
  - 为常见错误码（Auth / Credits / AI / Payment / Storage）定义 `ErrorUiStrategy`：
    - `severity`: info/warning/error；
    - `defaultFallbackMessage`: 英文兜底文案；
    - `action`: 例如 `redirectToLogin`、`openCreditsPage`；
    - `source`: 域标识（ai/credits/auth/payment/storage/generic）。
  - `getErrorUiStrategy` 在无匹配 code 时返回 `null`，由上层 hook 自行兜底。
- 评估：
  - 将 UI 行为与错误码映射集中管理，避免组件内散落 `if (code === ...)`；
  - 没有任何与账务/权限写路径相关的兜底，完全是“展示层策略”，符合设计原则。
- 建议：
  - 后续新增错误码时，应同步考虑是否需要 UI strategy（否则 UI 会退回 generic toast），可在错误码治理流程中补一条 checklist。

---

## 二、前端错误 UI 兜底

### 3. src/hooks/use-ai-error-ui.ts

- 类型：用户体验兜底  
- 级别：P3  
- 行为：
  - 接收 `AiErrorInput`（Error + DomainErrorLike 或带 `message` 的对象），可选 `context.source`（text/image）；
  - 提取 `code` 与原始 `message`，构造 `fallback`：
    - 优先使用原始 message；
    - 否则使用固定英文兜底 `'Failed to process AI request. Please try again later.'`；
  - 根据 `code` 查找 `ErrorUiStrategy`：
    - `getDomainErrorMessage(code, translate, strategy?.defaultFallbackMessage ?? fallback)` 生成最终文案；
    - 按 `severity` 选择 toast 类型：
      - info → `'Invalid AI request'`；
      - warning → `'AI request delayed'`；
      - error/默认 → `'AI request failed'` 或 `'Image generation failed'`。
- 评估：
  - UI 兜底路径明确，未改变任何业务状态或 envelope 结构；
  - 未知 code 时会退回 generic 错误提示，但不会“假装成功”，用户体验合理。
- 建议：
  - 如需更细粒度 UX（例如针对文案提示不同操作），可在不改变现有兜底语义的前提下扩展 `ErrorUiStrategy` 或 context。

### 4. src/hooks/use-credits-error-ui.ts

- 类型：用户体验兜底（含少量业务导航）  
- 级别：P3  
- 行为：
  - 针对 `AUTH_UNAUTHORIZED`：
    - 使用 `handleAuthFromEnvelope` + `useAuthErrorHandler` 做统一登录兜底（toast + 跳转登录）。
  - 针对 `CREDITS_INSUFFICIENT_BALANCE`：
    - 使用 `getDomainErrorMessage` 获取文案；
    - `toast.error` 提示后跳转到 `Routes.SettingsCredits`；
  - 其余错误：
    - 使用 `ErrorUiStrategy` + `getDomainErrorMessage` 生成文案；
    - 统一降级为 `toast.error`。
- 评估：
  - 导航行为（跳转 Credits 页面）属于显式的业务兜底决策，但只发生在“余额不足”这类清晰场景；
  - 不会修改 credits/billing 领域状态，仅影响 UI 行为，符合“用户体验兜底 + 业务导航”的范畴。
- 建议：
  - 如未来增加更多 Credits 错误码，可在这里继续集中处理，而不是在组件内分散写 `if (code === ...)`。

### 5. src/hooks/use-storage-error-ui.ts

- 类型：用户体验兜底  
- 级别：P3  
- 行为：
  - `handleStorageError`：
    - 无 `error` 时：使用提供的 `fallbackMessage` 或 `'Failed to upload file. Please try again later.'`，toast + 返回文案；
    - 有 `error` 时：
      - 提取 `code` 与 `rawMessage`；
      - 利用 `ErrorUiStrategy` 的 `defaultFallbackMessage` 组合 `fallback`；
      - 使用 `getDomainErrorMessage(code, undefined, fallback)` 作为最终消息；
      - 始终以 `toast.error` 方式展示。
- 评估：
  - 对“无 error 但调用方希望给用户一个反馈”的场景提供了明确兜底文案；
  - 不涉及写库或隐式重试，是纯 UI 层策略。
- 建议：
  - 可以在调用点按需传入更贴近业务的 `fallbackMessage`，但不应绕开统一的 hook。

---

## 三、AI 文本分析链路兜底

### 6. src/ai/text/utils/error-handling.ts

- 类型：技术兜底（外部服务调用 + 分类 + 重试）  
- 级别：P3  
- 行为：
  - 定义 `WebContentAnalyzerError`，将底层错误归类到 `ErrorType`（VALIDATION/NETWORK/SCRAPING/ANALYSIS/TIMEOUT/RATE_LIMIT/AUTHENTICATION/SERVICE_UNAVAILABLE/UNKNOWN），并映射到对应 `ErrorCodes.AiContent*`；
  - `classifyError`：
    - 基于 error.message 文本特征，将错误归为上述类型，生成带 `userMessage`/`severity`/`retryable` 标志的 DomainError；
    - 未命中任何分类时，统一映射为 `UNKNOWN` 类型，并设置 `retryable = true`；
  - `withRetry`：
    - 使用配置驱动的指数退避重试；
    - 若错误不可重试或达到最大次数，则抛出最后一次的 `WebContentAnalyzerError`；
    - 在重试间隔内通过 `clientLogger.warn` 记录包含 attempt/delay 的日志。
- 评估：
  - 典型的“外部不稳定依赖 + 网络不确定性”兜底场景，完全符合设计原则推荐使用兜底的类别；
  - 兜底终点清晰：多次失败后抛出 DomainError，而不是吞错；
  - 日志中包含 `type`/`severity`/`retryable` 等字段，可观测性较好。
- 建议：
  - 随着后续接入更多 AI/HTTP client，可在此集中扩展分类条件，保持“所有入口都归一到 WebContentAnalyzerError”的策略。

### 7. src/ai/text/utils/analyze-content/content-analyzer.ts

- 类型：技术兜底 + 结构化输出兜底  
- 级别：P3  
- 行为：
  - `analyzeContent`：
    - 通过 `withRetry` 包裹调用，优先处理 `WebContentAnalyzerError`，其次针对 message 中包含 `rate limit` / `timeout` / `aborted` 的错误映射为特定 ErrorType（RATE_LIMIT/TIMEOUT）；
    - 其他错误交由 `classifyError` 归类。
  - `generateStructuredAnalysis`：
    - 使用 `analysisSchema` 强约束输出字段；
    - Prompt 约定：
      - 缺 pricing → 使用 `"Not specified"`；
      - 缺 features/useCases → 返回空数组；
      - title/description 要基于实际内容给出有意义文案。
- 评估：
  - 兜底集中在“结构化输出完整性”和“错误类型更语义化”，不伪造业务语义结果；
  - Prompt 级兜底避免 schema 校验因缺字段导致 runtime error，属于合理的“结构兜底”。
- 建议：
  - 若未来扩展字段，应在 schema + Prompt 同步定义缺省规则，避免出现“新增字段未兜底 → 前端崩溃”的情况。

### 8. src/ai/text/utils/analyze-content/scraper.ts

- 类型：技术兜底（外部抓取 + 长文本截断）  
- 级别：P3  
- 行为：
  - `getFirecrawlClient`：
    - 读取 `getFirecrawlApiKey()`；
    - 若无 key，抛出 `WebContentAnalyzerError(ErrorType.SERVICE_UNAVAILABLE, ..., retryable: false)`，明确表示该能力当前不可用；
    - 否则构造 `new Firecrawl({ apiKey, apiUrl })`。
  - `truncateContent`：
    - 多级兜底：句子边界 → 段落边界 → 单词边界 → 简单字符截断；
    - 目标是控制长度、尽量不破坏语义。
  - `scrapeWebpage`：
    - 使用 `withRetry` 包裹 Firecrawl 调用；
    - markdown 为空时抛出 `WebContentAnalyzerError(SCRAPING, ...)`，而不是提供默认内容；
    - 其他错误交由 `classifyError` 归类。
- 评估：
  - 与 `.codex/plan/Firecrawl配置兜底.md` 中“应显式抛 SERVICE_UNAVAILABLE 而不是依赖 SDK 兜底”的目标对齐，现实现已经符合该建议；
  - 截断逻辑是典型“非关键业务、用户体验优化”兜底，不影响账务或权限。
- 建议：
  - 可在 `docs/ai-lifecycle.md` 中补一小段说明 Firecrawl 缺 key 的行为（SERVICE_UNAVAILABLE），便于运维快速诊断。

---

## 四、AI 图片生成链路兜底

### 9. src/lib/server/usecases/generate-image-with-credits.ts

- 类型：业务兜底 + 技术兜底（外部模型调用）  
- 级别：P3  
- 行为：
  - 请求参数校验：
    - 缺 `prompt` / `provider` / `modelId` 或 provider 未注册 → 直接返回：
      - `success: false` + `code: ErrorCodes.ImageGenerateInvalidParams` + `retryable: false`；
    - 不会尝试调用模型，也不会消费 Credits。
  - FAL provider 配置：
    - 若 `fal` 未初始化（缺 FAL_API_KEY），在 `createImageModel` 中抛出 `Error('FAL_API_KEY is not configured')`，由统一错误处理兜底。
  - 计费/免费额度：
    - 使用 `getImageGenerateBillingRule` 获取规则；
    - 若处于 `freeCallsPerPeriod` 内 → 记录日志并跳过 `consumeCredits`；
    - 否则在调用 provider 前先执行 `consumeCredits`，由 Credits 域抛 DomainError。
  - Provider 调用：
    - 使用 `withTimeout`：超过 `TIMEOUT_MILLIS`（55 秒）抛 `Error('Request timed out')`；
    - 若返回结果不含 `image` 字段或为空 → 返回：
      - `success: false` + `code: ErrorCodes.ImageInvalidResponse` + `retryable: true`。
  - 通用异常：
    - message 包含 timeout/timed out → 记录 `Image generation timed out` 并返回：
      - `success: false` + `code: ErrorCodes.ImageTimeout` + `retryable: true`；
    - 其他错误 → 记录 `Error generating image` 并返回：
      - `success: false` + `code: ErrorCodes.ImageProviderError` + `retryable: true`。
- 评估：
  - 参数非法时选择 fail fast（INVALID_PARAMS），避免兜底假成功，符合“核心业务不兜底”的原则；
  - 对 provider 不确定性（超时/异常响应）采用标准化错误码 + retryable 标志，且全程日志可观测；
  - Credits 消费与免费额度逻辑均在错误兜底前完成，避免“先扣费后失败且静默”的风险。
- 建议：
  - 在文档/错误码指南中补一张 AI_IMAGE_* 错误矩阵表，帮助前端/运营理解不同错误的含义与可重试性。

---

## 五、Plan & Credits 相关兜底

### 10. src/domain/plan/resolve-current-plan.ts

- 类型：业务兜底  
- 级别：P3  
- 行为：
  - 过滤掉 `disabled` 的 plan；
  - 若 `isLifetimeMember`：
    - 返回 `lifetimePlan ?? null` 作为 `currentPlan`，`subscription: null`；
  - 若存在 `subscription`：
    - 通过 `subscription.priceId` 在可用 plan 中查找匹配项；
    - 找不到时返回 `currentPlan: null`，保留 `subscription`；
  - 若既非终身也无订阅：
    - 返回 `currentPlan: freePlan`（若存在 free plan，否则 null）与 `subscription: null`。
- 评估：
  - “无订阅 → free plan” 是明确的产品规则，而不是为了避免报错的技术兜底；
  - 找不到匹配 plan 时有意返回 `currentPlan: null`，避免错误映射导致非法收费。
- 建议：
  - 若某些 UI 需要“总有一个当前 plan”，建议在 UI 层兜底（展示 “Free” 等），不要在 domain 层强行设默认 plan。

### 11. src/credits/config.ts

- 类型：技术兜底（配置解析层）  
- 级别：P3  
- 行为：
  - `getRegisterGiftCreditsConfig`：
    - 无配置 → 返回 `null`；
    - 有配置时：
      - `amount = cfg.amount ?? 0`；
      - `enabled = (cfg.enable ?? false) && amount > 0`；
      - `expireDays` 缺省时不自动填默认天数，保持 undefined。
  - `mapPlanToCreditsConfig`：
    - 若 plan 无 `credits` → 返回 `null`；
    - 有 credits：
      - `amount = credits.amount ?? 0`；
      - `enabled = (credits.enable ?? false) && amount > 0`；
      - `isFree`/`isLifetime`/`disabled` 各自有默认值。
- 评估：
  - 兜底仅用于防止 `undefined` 导致 runtime 错误，开启与否始终由显式配置决定；
  - 不会凭空送积分或默认开启某权益，符合“配置层兜底不应造假数据”的原则。
- 建议：
  - 在 Credits/Plan 相关文档中注明：“amount=0 或 enable=false 视为禁用该权益”，便于运营理解。

### 12. src/credits/services/credit-ledger-service.ts

- 类型：业务兜底 + 技术兜底（幂等与配置缺失）  
- 级别：
  - 注册赠送 & 免费月：P2（行为合理，但观测性仍可提升）  
  - 订阅续费 & 终身权益：P3（已按建议改为显式错误）
- 行为：
  - 注册赠送 `addRegisterGiftCredits`：
    - 已存在 `REGISTER_GIFT` 交易 → 直接 return（幂等兜底）；
    - `policy.getRegisterGiftRule()` 缺 rule → `logger.info(..., 'Register gift credits rule not found, skipping grant')`，然后 return。
  - 免费月 `addMonthlyFreeCredits`：
    - `policy.getMonthlyFreeRule(planId)` 缺 rule → `logger.info(..., 'Monthly free credits rule not found for plan, skipping grant')`，然后 return；
    - 已存在当期 `MONTHLY_REFRESH` 交易或不能添加 → return；
  - 订阅续费 `addSubscriptionCredits`：
    - `policy.getSubscriptionRenewalRule(priceId)` 缺 rule：
      - `logger.error(..., 'Subscription renewal credits rule missing for price')`；
      - 抛出 `CreditsPlanPolicyMissingError`；
  - 终身权益 `addLifetimeMonthlyCredits`：
    - `policy.getLifetimeMonthlyRule(priceId)` 缺 rule：
      - `logger.error(..., 'Lifetime monthly credits rule missing for price')`；
      - 抛出 `CreditsPlanPolicyMissingError`。
- 评估：
  - 注册赠送/免费月：典型“增强型权益”，缺 rule 时仅记日志并跳过发放，属于合理业务兜底，且有观测性（info log）；
  - 订阅续费/终身权益：因直接关系到付费权益，缺 policy 时抛 DomainError，避免长期“静默少发积分”，已符合 `.codex/plan/CreditsPolicy兜底.md` 的改造目标。
- 建议：
  - 可在 metrics 层补充诸如 `credits_missing_policy_total` 之类的计数，进一步提升“配置缺失”的可观测性（中期优化，P2 级）。

---

## 六、RateLimit & Env & Firecrawl 配置兜底

### 13. src/env/server.ts（Env 解析兜底）

- 类型：技术兜底  
- 级别：P3  
- 行为：
  - 使用 `optionalString` 将空字符串统一归一为 `undefined`，避免出现“看似配置了但实际为空”的误判；
  - Telemetry/布尔字段给出合理默认值（如 telemetry 默认开启，client logger 默认在非 prod 环境启用）；
  - 对必需字段（DATABASE_URL / BETTER_AUTH_SECRET）校验失败时，将错误打印到控制台并直接 `throw`，阻止应用启动。
- 评估：
  - Env 层兜底集中在“宽容但不造假”，不会虚构必需配置；
  - 关键配置仍采用 fail fast 策略，符合设计原则中“不对安全/账务做兜底”的要求。

### 14. src/lib/server/rate-limit.ts（RateLimit 兜底）

- 类型：技术兜底（限流基础设施）  
- 级别：P2  
- 行为：
  - 基于 `serverEnv.rateLimit` + `NODE_ENV` 计算：
    - `isDevOrTest`（dev/test）；
    - `requireRedis`：显式 env 为 boolean，否则默认在非 dev/test 环境为 `true`；
    - `allowInMemoryFallback = !requireRedis && isDevOrTest`。
  - 若存在 Upstash 配置 → 使用 `Ratelimit` 做全局限流；
  - 若不存在 Upstash 且 `allowInMemoryFallback = false`：
    - 记录错误日志（包含 env 与 Redis 配置状态）；
    - 抛出错误 `'Upstash Redis is not configured but required outside development.'`；
  - 若允许内存兜底：
    - 使用进程内 `Map` 做最佳努力限流，并在首次使用时 `console.warn` 提示 fallback。
- 评估：
  - 按 `.codex/plan/RateLimit兜底.md` 的设计，生产环境默认要求 Redis，不再静默退回单实例限流，避免“看似有全局限流实则没有”的风险；
  - dev/test 环境仍允许 in-memory fallback，有利于本地开发。
- 建议：
  - 已无明显 P0/P1 风险，属于较健康的技术兜底实践（P2：可根据后续运维需要进一步增强监控/metrics）。

### 15. Firecrawl 配置兜底（web-content-config + scraper）

- 涉及文件：
  - `src/ai/text/utils/web-content-config.server.ts`（配置与 `getFirecrawlApiKey` / `validateFirecrawlConfig`）；
  - `src/ai/text/utils/analyze-content/scraper.ts` 中的 `getFirecrawlClient`（见前文第 8 条）。
- 类型：技术兜底  
- 级别：P2  
- 行为：
  - `validateFirecrawlConfig`：
    - 缺 `FIRECRAWL_API_KEY` 时 `console.warn` 并返回 `false`，用于 preflight 关闭该能力并返回 SERVICE_UNAVAILABLE；
  - `getFirecrawlClient`：
    - 若 key 缺失 → 抛 `WebContentAnalyzerError(SERVICE_UNAVAILABLE, ...)`；
    - 确保即便绕过 preflight，调用 `scrapeWebpage` 也会以一致的 DomainError 形式失败。
- 评估：
  - 与 `.codex/plan/Firecrawl配置兜底.md` 中“显式兜底 + 可观测”的目标基本一致；
  - 仍有少量改进空间：例如将 `validateFirecrawlConfig` 结果暴露给 UI/admin 以更好提示运维。
- 建议：
  - 后续可以考虑在某个 admin/health-check 页面展示 Firecrawl 配置状态，提升可见性（P2）。

---

## 七、Storage & 上传兜底

### 16. src/storage/client.ts（上传错误转换）

- 类型：技术兜底 + 用户体验兜底  
- 级别：P3  
- 行为：
  - 调用 `/api/storage/upload`，解析 JSON envelope：
    - `success: true` → 返回 `data`；
    - `success: false` → 提取 `code`/`error`/`retryable`：
      - 使用 `ErrorUiStrategy` 的 `defaultFallbackMessage` 组合 `fallback`；
      - 通过 `getDomainErrorMessage` 计算最终 message；
      - 构造带 `code`/`retryable` 的 Error 并 `throw`；
  - 非 OK 的 HTTP 响应但 `json.success === true` 时，会在之后的 `if (!response.ok)` 中抛 `Error('Failed to upload file')`；
  - 捕获阶段：
    - `error instanceof Error` → 原样抛出；
    - 其他类型 → 抛 `Error('Unknown error occurred during file upload')`。
- 评估：
  - 将 API envelope 统一转为 DomainErrorLike，以便 UI/调用方复用统一错误处理逻辑；
  - 对非 Error 类型的异常提供明确兜底错误，避免 Promise 静默失败。
- 建议：
  - 若未来需要前端指标，可在调用 `uploadFileFromBrowser` 的层面记录“上传错误 code 与重试行为”。

### 17. src/hooks/use-storage-error-ui.ts（见前文第 5 条）

- 已评估为 P3 用户体验兜底，不再重复。

---

## 八、日志与客户端兜底

### 18. src/lib/client-logger.ts

- 类型：技术兜底 + 用户体验/性能兜底  
- 级别：P3  
- 行为：
  - `shouldLog`：
    - 在浏览器环境下，如果 `NEXT_PUBLIC_ENABLE_CLIENT_LOGGER === 'true'` 或 `NODE_ENV !== 'production'`，开启 client logger；
    - 否则关闭；
  - `createLoggerMethod`：
    - 当 `shouldLog` 为 false 时，返回 noop 函数；
    - 若浏览器环境不提供 `console`，直接返回。
  - 导出的 `clientLogger`：
    - `debug/info/warn/error` 在禁用时均为 noop。
- 评估：
  - 这是典型“非关键能力”的兜底：关闭日志不会改变任何业务路径，仅影响调试/观测；
  - 避免在生产环境产生过多日志或因缺少 console 导致运行时错误。
- 建议：
  - 若未来需要更精细的前端观测，可考虑在此基础上增加对日志事件的统计上报，但与兜底设计无直接冲突。

---

## 九、汇总与待后续跟进点（简要）

- 总体结论：
  - 当前仓库的兜底逻辑整体健康，大部分集中在：
    - 外部服务调用（AI 文本/图片、Firecrawl、Storage）的技术兜底；
    - 文案与错误 UI 的用户体验兜底；
    - Credits/Plan 的业务兜底中，已对高风险路径（订阅续费/终身权益）采用显式 DomainError，而非静默 return。
  - 典型正面样例（P3）包括：
    - `WebContentAnalyzerError` + `withRetry`；
    - `generate-image-with-credits` 的错误矩阵；
    - `resolveCurrentPlan` 对 free plan / null 的处理；
    - `domain-error-utils` + `domain-error-ui-registry` + 各类 `use-*error-ui`。
- P0/P1 级风险点：
  - 目前在本轮审计范围内未发现“明显假成功或账务/权限被静默兜底”的 P0 问题；
  - P1/P2 主要集中在“观测性与文档可见性”：
    - Credits Policy 缺失已经通过 DomainError 处理，但 metrics 仍可补充（P2）；
    - Firecrawl/RateLimit 等基础设施兜底已较健康，但可以增强 admin/health-check 层面的提示（P2）。
- 建议下一步：
  - 若要向“可观测兜底”进一步演进，可围绕本文件中标记为 P2 的条目制定小型任务（如 metrics + 文档补充），与现有 `.codex/plan/RateLimit兜底.md`、`.codex/plan/CreditsPolicy兜底.md`、`.codex/plan/Firecrawl配置兜底.md` 联动落地。 
